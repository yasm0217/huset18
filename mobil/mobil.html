<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="appCSS.css">
    <link rel="shortcut icon" type="image/x-icon" href="huset_ikon.png" />
</head>

<body>
    <header>

        <div class="logo">
            <img src="Huset_logo_6_W.png" alt="huset_logo" width="85%"></div>
        <div class="linje"></div>
        <nav>

            <button class="menu-item">Events</button>
            <button class="menu-item" href="om.html">Om</button>
        </nav>
        <div class="genre_menu">
            <button id="rock">Rock</button>
            <button id="pop">Pop</button>
            <button id="country'">Country</button>
            <button id="alle">Alle</button>
        </div>
    </header>


    <article id="main_container">



        <div class="event_conainter_mobil">
            <div class="billede_container_mobil">
                <h1 class="data-titel">Event:</h1>
                <a href="" class="linktosingle">
            <img class="data-img" src="3.jpg">
        </a>
            </div>
            <div class="linje"></div>
            <div class="tekst_container_mobil">
                <p class="data-genre">Genre:</p>
                <p class="data-dato">Dato:10.11.2018</p>
                <p class="data-tid">Tid:Kl.20.00</p>
                <p class="data-sted">Sted:Musikcafen</p>
                <p class="data-pris">Pris:100 kr.</p>
            </div>
        </div>

    </article>

    <script>
        let events;
        let minTemplate = document.querySelector(".event_conainter_mobil");
        let templateModtager = document.querySelector("#main_container");
        async function getJson() {
            let eventObjekt = await fetch("https://ansaari.dk/kea/huset/wordpress/wp-json/wp/v2/events");
            events = await eventObjekt.json();


            visValgte();

        }


        function visValgte() {
          //  templateModtager.innerHTML = "";

            events.forEach(function(event) {

                let klon = minTemplate.cloneNode(true).content;
                //klon.querySelector("section").classList.add(event.acf.genre);
                klon.querySelector(".data-titel").textContent = event.acf.titel;
                klon.querySelector(".data-genre").textContent = event.acf.genre;
                klon.querySelector(".data-img").setAttribute("src", event.acf.billede);
                klon.querySelector(".data-dato").textContent = "dato: " + event.acf.dato;
                klon.querySelector(".data-tid").textContent = "dørene åbner kl.: " + event.acf.starttid;
                klon.querySelector(".data-sted").textContent = event.acf.sal;
                klon.querySelector(".data-pris").textContent = "entre: " + event.acf.billetpris + "kr";
                klon.querySelector(".linktosingle").setAttribute("href", "singleevent.html?id=" + event.id);
                templateModtager.appendChild(klon);
            });

        }


        //læs script når DOM er hentet
        document.addEventListener("DOMContentLoaded", getJson);
    </script>

</body>

</html>
